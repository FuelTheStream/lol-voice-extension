const d=window.Twitch.ext;document.addEventListener("DOMContentLoaded",()=>{if(document.getElementById("config-app")){const a=document.getElementById("reward-cost"),s=document.getElementById("save-btn"),i=document.getElementById("status");d.onAuthorized(()=>{var c;const o=(c=d.configuration.broadcaster)==null?void 0:c.content;if(o)try{const t=JSON.parse(o);t.rewardCost!=null&&(a.value=t.rewardCost)}catch{}}),s.addEventListener("click",()=>{const o=parseInt(a.value,10)||0,c=JSON.stringify({rewardCost:o});d.configuration.set("broadcaster","1",c),i.textContent="Saved!"})}else{let c=function(){const t=o.find(e=>e.id===a.value);s.innerHTML="",Object.keys(t.categories).forEach(e=>{const n=document.createElement("option");n.value=e,n.textContent=e.charAt(0).toUpperCase()+e.slice(1),s.appendChild(n)})};var u=c;const a=document.getElementById("champion-select"),s=document.getElementById("category-select"),i=document.getElementById("play-btn");let o=[];fetch("./assets/champions.json").then(t=>t.json()).then(t=>{o=t,t.forEach(e=>{const n=document.createElement("option");n.value=e.id,n.textContent=e.name,a.appendChild(n)}),c()}),a.addEventListener("change",c),i.addEventListener("click",()=>{const t=o.find(l=>l.id===a.value),e=s.value,n=t.categories[e],r=n[Math.floor(Math.random()*n.length)];d.send("broadcast","play",{url:r})})}});
